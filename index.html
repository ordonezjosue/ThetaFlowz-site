<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ThetaFlowz</title>

  <!-- ========  CSS  ========= -->
  <style>
    :root {
      --brand: #71f54a;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
    body{background:#000;color:#fff;}
    header{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;}
    .logo{font-size:1.5rem;font-weight:700;}
    nav ul{list-style:none;display:flex;gap:1.5rem;}
    nav a{color:#fff;text-decoration:none;font-size:.95rem;}
    .cta-button{background:var(--brand);color:#000;padding:.5rem 1rem;border:0;border-radius:8px;font-weight:700;cursor:pointer;}
    .hero{padding:3rem 2rem;max-width:1000px;margin:auto;}
    .hero h1{font-size:3rem;line-height:1.2;margin-bottom:1rem;}
    .hero p{color:#ccc;font-size:1.2rem;max-width:600px;}
    .buttons{margin-top:2rem;display:flex;gap:1rem;}
    .primary{background:var(--brand);color:#000;border:0;padding:.75rem 1.5rem;border-radius:8px;font-weight:700;cursor:pointer;}
    .secondary{background:transparent;color:#fff;border:2px solid #fff;padding:.75rem 1.5rem;border-radius:8px;font-weight:700;cursor:pointer;}
    .image-strip{display:flex;overflow-x:auto;gap:1rem;padding:2rem;justify-content:center;}
    .image-strip img{width:200px;border-radius:12px;}
    footer{text-align:right;font-size:.8rem;color:#aaa;padding:1rem 2rem;}
    @media(max-width:768px){
      .hero h1{font-size:2.2rem}
      .buttons{flex-direction:column;align-items:flex-start}
      header{flex-direction:column;align-items:flex-start;gap:1rem}
    }
    /* Simple modal */
    #auth-modal{position:fixed;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;z-index:1000;}
    #auth-box{background:#111;padding:2rem 2.5rem;border-radius:12px;max-width:350px;width:90%;}
    #auth-box h2{margin-bottom:1.5rem;text-align:center;}
    #close-modal{position:absolute;top:1rem;right:1rem;font-size:1.2rem;background:none;border:none;color:#fff;cursor:pointer;}
  </style>

  <!-- ========  Auth0 SDK  ========= -->
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.7/auth0-spa-js.production.js"></script>
</head>

<body>
  <!-- ----------  NAV  ---------- -->
  <header>
    <div class="logo">ðŸ”¥ ThetaFlowz</div>
    <nav>
      <ul>
        <li><a href="#">Tools</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Blog</a></li>
        <li><a href="#">Support</a></li>
      </ul>
    </nav>
    <button id="login-btn" class="cta-button">Log in</button>
  </header>

  <!-- ----------  HERO  ---------- -->
  <section class="hero">
    <h1>Options made simple.<br>Wealth made possible.</h1>
    <p>Unlock easy-to-use screeners, trade tracking, and step-by-step guides. Learn how selling options can grow your confidence and your portfolioâ€”no experience required.</p>
    <div class="buttons">
      <button class="primary">Join now</button>
      <button class="secondary">How it works</button>
    </div>
  </section>

  <!-- ----------  IMAGE STRIP  ---------- -->
  <section class="image-strip">
    <img src="images/chart.png" alt="Chart">
    <img src="images/trading.png" alt="Trading">
    <img src="images/team.png" alt="Team">
    <img src="images/coffee.png" alt="Coffee">
    <img src="images/dashboard.png" alt="Dashboard">
  </section>

  <footer>Made by ThetaFlowz</footer>

  <!-- ----------  LOGIN MODAL  ---------- -->
  <div id="auth-modal">
    <div id="auth-box">
      <button id="close-modal">âœ•</button>
      <h2>Sign in to ThetaFlowz</h2>
      <button id="auth-login" class="primary" style="width:100%;margin-bottom:.75rem;">Continue with Google</button>
      <button id="auth-logout" class="secondary" style="width:100%;display:none;">Log out</button>
    </div>
  </div>

  <!-- ========  JS  ========= -->
  <script>
    /* ----------  Modal open/close  ---------- */
    const modal   = document.getElementById('auth-modal');
    const openBtn = document.getElementById('login-btn');
    const closeBtn= document.getElementById('close-modal');
    openBtn.onclick = () => modal.style.display = 'flex';
    closeBtn.onclick= () => modal.style.display = 'none';
    window.onclick  = e => { if (e.target === modal) modal.style.display='none'; };

    /* ----------  Auth0 setup  ---------- */
    (async () => {
      const auth0 = await createAuth0Client({
        domain:   import.meta.env ? import.meta.env.VITE_AUTH0_DOMAIN   : '%AUTH0_DOMAIN%',
        clientId: import.meta.env ? import.meta.env.VITE_AUTH0_CLIENTID : '%AUTH0_CLIENTID%',
        authorizationParams: { redirect_uri: window.location.origin }
      });

      // Handle redirect from Auth0
      if (window.location.search.includes('code=')) {
        await auth0.handleRedirectCallback();
        window.history.replaceState({}, document.title, '/');
      }

      // Update UI helpers
      const loginUI  = () => {
        document.getElementById('auth-login').style.display  ='none';
        document.getElementById('auth-logout').style.display ='block';
        openBtn.textContent = 'Dashboard';
      };
      const logoutUI = () => {
        document.getElementById('auth-login').style.display  ='block';
        document.getElementById('auth-logout').style.display ='none';
        openBtn.textContent = 'Log in';
      };

      // Check auth state
      if (await auth0.isAuthenticated()) loginUI(); else logoutUI();

      // Bind buttons
      document.getElementById('auth-login').onclick  = () => auth0.loginWithRedirect({connection:'google-oauth2'});
      document.getElementById('auth-logout').onclick = () => auth0.logout({logoutParams:{returnTo:window.location.origin}});
    })();
  </script>
</body>
</html>
